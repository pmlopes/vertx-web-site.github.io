{"pageProps":{"categories":["releases","guides","news"],"post":{"meta":{"title":"What's new in Vert.x 4.2","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"See an overview of all new and exciting features in Vert.x 4.2, including Java 17 supports, Vert.x Oracle Client and more.","pinned":true},"date":"2021-10-26","slug":"whats-new-in-vert-x-4-2","readingTime":{"text":"3 min read","minutes":2.365,"time":141900,"words":473},"content":{"compiledSource":"var l=Object.defineProperty,d=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var p=(a,n,t)=>n in a?l(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,e=(a,n)=>{for(var t in n||(n={}))i.call(n,t)&&p(a,t,n[t]);if(r)for(var t of r(n))o.call(n,t)&&p(a,t,n[t]);return a},c=(a,n)=>d(a,m(n));var h=(a,n)=>{var t={};for(var s in a)i.call(a,s)&&n.indexOf(s)<0&&(t[s]=a[s]);if(a!=null&&r)for(var s of r(a))n.indexOf(s)<0&&o.call(a,s)&&(t[s]=a[s]);return t};const makeShortcode=a=>function(t){return console.warn(\"Component \"+a+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},t))},Link=makeShortcode(\"Link\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var s=t,{components:a}=s,n=h(s,[\"components\"]);return mdx(MDXLayout,c(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Vert.x 4.2 comes with plenty of new ex\\xADcit\\xADing fea\\xADtures.\"),mdx(\"p\",null,\"Here is an overview of the most im\\xADpor\\xADtant fea\\xADtures sup\\xADported in Vert.x 4.2.\"),mdx(\"h2\",e({},{id:\"java-17\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#java-17\"})),\"Java 17\"),mdx(\"p\",null,\"Vert.x 4.2 comes with of\\xADfi\\xADcial sup\\xADport of Java 17.\"),mdx(\"p\",null,\"Our CI has been up\\xADdated to test from our Java 8 base\\xADline to the very re\\xADcent Java 17 re\\xADlease.\"),mdx(\"h2\",e({},{id:\"reactive-sql-client\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#reactive-sql-client\"})),\"Reactive SQL Client\"),mdx(\"h3\",e({},{id:\"oracle-client\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#oracle-client\"})),\"Oracle client\"),mdx(\"p\",null,\"The \",mdx(Link,{href:\"/docs/4.2.0/vertx-oracle-client/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"Re\\xADac\\xADtive Or\\xADa\\xADcle Client\")),\" joins the \",mdx(Link,{href:\"/docs/#databases\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"data\\xADbase clients\")),\" fam\\xADily!\"),mdx(\"p\",null,\"This client is in tech pre\\xADview and we are eager to hear any feed\\xADback you may have.\"),mdx(\"h3\",e({},{id:\"mssql-client-tls-and-azure-support\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#mssql-client-tls-and-azure-support\"})),\"MSSQL client TLS and Azure support\"),mdx(\"p\",null,\"Our MSSQL client now sup\\xADports TLS en\\xADcryp\\xADtion as well as Azure sup\\xADport.\"),mdx(\"h2\",e({},{id:\"mqtt-server-v5-supports\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#mqtt-server-v5-supports\"})),\"MQTT Server V5 supports\"),mdx(\"p\",null,\"The MQTT Server has been up\\xADgraded to sup\\xADport the ver\\xADsion 5 of the pro\\xADto\\xADcol par\\xADtially (the auth mes\\xADsage re\\xADmains to be im\\xADple\\xADmented).\"),mdx(\"h3\",e({},{id:\"tracing\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#tracing\"})),\"Tracing\"),mdx(\"p\",null,\"Our Cas\\xADsan\\xADdra client now sup\\xADports trac\\xADing, you can use it ei\\xADther with your favourite tracer.\"),mdx(\"h2\",e({},{id:\"web-client-enhancements\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#web-client-enhancements\"})),\"Web Client enhancements\"),mdx(\"p\",null,\"Our Web Client sup\\xADports now Oauth2 au\\xADto\\xADmated token se\\xADcu\\xADrity man\\xADage\\xADment.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),`WebClient client = WebClient.create(vertx);\nOAuth2WebClient oauth2 = OAuth2WebClient.create(\n    client,\n    OAuth2Auth.create(vertx, `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" OAuth2Options(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"/* enter IdP config */\"),`)))\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// configure the initial credentials (needed to fetch if needed\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// the access_token\"),`\n  .withCredentials(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" TokenCredentials(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"some.jwt.token\"'),`));\n`)),mdx(\"p\",null,\"To\\xADkens are now fetched or re\\xADfreshed dur\\xADing the life\\xADcy\\xADcle of the client.\"),mdx(\"p\",null,\"It also of\\xADfers an HTTP re\\xADsponse caching fa\\xADcil\\xADity.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),`WebClient client = WebClient.create(vertx);\nWebClient cachingWebClient = CachingWebClient.create(client);\n`)),mdx(\"h2\",e({},{id:\"auth-enhancements\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#auth-enhancements\"})),\"Auth enhancements\"),mdx(\"h3\",e({},{id:\"webauthn\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#webauthn\"})),\"Webauthn\"),mdx(\"p\",null,\"We\\xADbau\\xADthn now sup\\xADports \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://fidoalliance.org/metadata/\"}),\"MDS3\"),\". The now \\u201Clegacy\\u201D MDS2 is still avail\\xADable as the ser\\xADvice is ex\\xADpected to be run\\xADning until Nov 2022. In terms of usage, noth\\xADing changed, the mod\\xADule can iden\\xADtify the meta\\xADdata ver\\xADsion from the pay\\xADload and de\\xADcide how to han\\xADdle it in\\xADter\\xADnally.\"),mdx(\"h3\",e({},{id:\"otp\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#otp\"})),\"OTP\"),mdx(\"p\",null,\"A new mod\\xADule and han\\xADdler for 2nd fac\\xADtor au\\xADthen\\xADti\\xADca\\xADtion is now avail\\xADable:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),`OtpAuthHandler otp = OtpAuthHandler.create(TotpAuth.create();\n\notp\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// the issuer for the application\"),`\n  .issuer(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Vert.x Demo\"'),`)\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// handle code verification responses\"),`\n  .verifyUrl(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"/verify-otp.html\"'),`)\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// handle registration of authenticators\"),`\n  .setupRegisterCallback(router.post(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"/otp/register\"'),`))\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// handle verification of authenticators\"),`\n  .setupCallback(router.post(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"/otp/verify\"'),`));\n`)),mdx(\"p\",null,\"This mod\\xADule and han\\xADdler are com\\xADpat\\xADi\\xADble with google au\\xADthen\\xADti\\xADca\\xADtor and sim\\xADi\\xADlar apps.\"),mdx(\"h2\",e({},{id:\"openapi\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#openapi\"})),\"OpenAPI\"),mdx(\"p\",null,\"When using Ope\\xADnAPI and event\\xADbus de\\xADployed ser\\xADvices, when de\\xADploy\\xADing se\\xADcure APIs, the HTTP \",mdx(\"inlineCode\",{parentName:\"p\"},\"Authorization\"),\" header is now prop\\xADa\\xADgated along with the re\\xADquest all the way with the re\\xADquest on the event\\xADbus. This paves the way to cre\\xADate a \",mdx(\"inlineCode\",{parentName:\"p\"},\"Zero Trust\"),\" foun\\xADda\\xADtion for vert.x dis\\xADtrib\\xADuted ap\\xADpli\\xADca\\xADtions.\"),mdx(\"h2\",e({},{id:\"redis-client\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#redis-client\"})),\"Redis Client\"),mdx(\"p\",null,\"Redis client now sup\\xADport \",mdx(\"inlineCode\",{parentName:\"p\"},\"REPLICATION\"),\" mode. This mode is com\\xADmonly used by cloud providers like Azure and AWS. The client will act just like in a clus\\xADtered mode, with less over\\xADhead as the host\\xADing will per\\xADform most of the clus\\xADtered tasks, not the client.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),`Redis.createClient(\n      vertx,\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),` RedisOptions()\n        .setType(RedisClientType.REPLICATION)\n        .addConnectionString(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"redis://localhost:7000\"'),`))\n      .connect()\n      .onSuccess(conn -> {\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// this is a replication client.\"),`\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// write operations will end up in the master node\"),`\n        conn.send(Request.cmd(Command.SET).arg(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"key\"'),\").arg(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"value\"'),`));\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// and read operations will end up in the replica nodes if available\"),`\n        conn.send(Request.cmd(Command.GET).arg(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"key\"'),`));\n      });\n`)))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"prevPost":null,"nextPost":{"meta":{"title":"Migrate from Vert.x 3 to Vert.x 4","category":"guides","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We provide a clear and well-documented migration path from Vert.x 3.9 to Vert.x 4. Existing users will feel at home with the new version.","pinned":true},"date":"2020-12-02","slug":"from-vert-x-3-to-vert-x-4"},"relatedPosts":[{"meta":{"title":"Things to keep in mind concerning CSRF attacks","category":"guides","authors":[{"name":"Xhelal Likaj","github_id":"xhlika"}],"summary":"Eclipse Vert.x like most frameworks provides an anti-CSRF defense. However, no framework can prevent all attack vectors that exist in the web. Therefore, developers need to be aware of some dangers and common attack vectors concerning CSRF defenses."},"date":"2021-01-23","slug":"eclipse-vert-x-CSRF-concerns"},{"meta":{"title":"Eclipse Vert.x 3.7.0 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We are extremely pleased to announce that the Eclipse Vert.x version 3.7.0 has been released."},"date":"2019-04-02","slug":"eclipse-vert-x-3-7-0-released"},{"meta":{"title":"Eclipse Vert.x 4 milestone 5 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We are extremely pleased to announce the fifth 4.0 milestone release of Eclipse Vert.x. This release aims to provide a reliable distribution of the current development of Vert.x 4."},"date":"2020-06-10","slug":"eclipse-vert-x-4-milestone-5-released"}]},"__N_SSG":true}